<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:ProgressionManager.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="ProgressionManager.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Width="1200"
        Height="800"
        Icon="/Assets/avalonia-logo.ico"
        Title="ProgressionManager">

    <Window.Styles>
        <Style Selector="ToggleButton.NavItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#C0CAF5"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontWeight" Value="Medium"/>
        </Style>

        <!-- Hover -->
        <Style Selector="ToggleButton.NavItem:pointerover">
            <Setter Property="Background" Value="#1A1F2E"/>
        </Style>

        <!-- Selected -->
        <Style Selector="ToggleButton.NavItem:checked">
            <Setter Property="Background" Value="#1F2A44"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>

        <!-- Selected Accent Bar -->
        <Style Selector="ToggleButton.NavItem:checked > ContentPresenter">
            <Setter Property="BorderThickness" Value="0,0,0,0"/>
        </Style>

    </Window.Styles>

    <Design.DataContext>
      <vm:MainWindowViewModel/>
    </Design.DataContext>

    <DockPanel>
        <!-- SYSTEM LOG (BOTTOM) -->
        <Border DockPanel.Dock="Bottom"
                Height="120"
                Background="#12151B"
                Padding="12">
            <StackPanel Spacing="6">
                <TextBlock Text="SYSTEM"
                           FontSize="12"
                           FontWeight="Bold"
                           Foreground="#7AA2F7"/>

                <ScrollViewer>
                    <TextBlock
                        Text="[SYSTEM]: Level Up Detected [WARNING]: Mana exceeds max value in Chapter 37"
                        TextWrapping="Wrap"
                        Foreground="#C0CAF5"
                        FontSize="13"/>
                </ScrollViewer>
            </StackPanel>
        </Border>

        <!-- SIDEBAR -->
        <Border DockPanel.Dock="Left"
                Width="240"
                Background="#12151B"
                Padding="16">

            <StackPanel Spacing="14">

                <TextBlock Text="LitRPG SYSTEM"
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="#FFFFFF"/>

                <TextBlock Text="World Manager"
                           FontSize="12"
                           Foreground="#7A7F99"
                           Margin="0,-10,0,10"/>

                <!-- NAV BUTTONS -->
                <StackPanel Spacing="8">
                    <ItemsControl ItemsSource="{Binding NavigationItems}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <ToggleButton Classes="NavItem"
                                              IsChecked="{Binding IsSelected}"
                                              Command="{Binding SelectCommand}">
                                    <Grid ColumnDefinitions="4,*">

                                        <!-- Accent Bar -->
                                        <Border Grid.Column="0"
                                                Width="4"
                                                Background="#7AA2F7"
                                                IsVisible="{Binding IsSelected}"/>

                                        <StackPanel Grid.Column="1"
                                                    Orientation="Horizontal"
                                                    Spacing="12"
                                                    Margin="12,0,0,0">
                                            <TextBlock Text="{Binding Icon}"
                                                       FontSize="18"/>
                                            <TextBlock Text="{Binding Title}"
                                                       FontSize="14"/>
                                        </StackPanel>

                                    </Grid>
                                </ToggleButton>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                </StackPanel>
            </StackPanel>
        </Border>

         <!-- MAIN CONTENT -->
        <ContentControl Content="{Binding CurrentViewModel}" Margin="20"/>
    </DockPanel>
</Window>
